tbody id="daily_test_calendar_#{week}"
  - {1 => 'ì˜ì–´ë“£ê¸°', 2 => 'ì˜ì–´ë‹¨ì–´', 3 => 'ìˆ˜í•™ê°€í˜•', 4 => 'ìˆ˜í•™ë‚˜í˜•'}.each_pair do |problem_source_id, problem_source_name|
    - if [1,2].index(current_user.id).nil?
      - next if problem_source_id == 3 && current_user.liberal
      - next if problem_source_id == 4 && !current_user.liberal
    - collections = problem_collections.select{|c| c.problem_source_id == problem_source_id}
    tr.top.aligned
      td.one.wide.middle.aligned.center.aligned == problem_source_name
      - week_days = (start_date.to_date..end_date.to_date).select{|date| date.cweek == week}
      - [1,2,3,4,5,6,0].each do |index|
        - if !week_days.first.nil? && week_days.first.wday == index
          - date = week_days.shift
          - if date == Date.parse('2017-07-21')
            - if problem_source_id == 1
              td.two.wide.middle.aligned.center.aligned.clearfix rowspan="4"
                i.huge.send.blue.icon
                br
                br
                span.ui.green.label ì¸ë¨¸ìº í”„ ì‹œì‘!
          - elsif date == Date.parse('2017-08-15')
            - if problem_source_id == 1
              td.two.wide.middle.aligned.center.aligned.clearfix rowspan="4"
                i.huge.map.signs.brown.icon
                br
                br
                span.ui.green.label ì¸ë¨¸ìº í”„ ì¢…ë£Œ!
          // - elsif date == Date.parse('2017-08-14')
          //   - if problem_source_id == 1
          //     td.two.wide.middle.aligned.center.aligned.clearfix style="background-color: rgba(0, 0, 50, 0.02);" rowspan="4"
          //       span.ui.label ì¢…ê°• ì „ë‚ ì´ë‹ˆê¹ skip ğŸ˜
          - elsif index == 6
            - if problem_source_id == 1
              td.two.wide.middle.aligned.center.aligned.clearfix style="background-color: rgba(0, 0, 50, 0.02);" rowspan="4" colspan="2"
                span.ui.label ì£¼ë§ì´ë‹ˆê¹<br>ì‰¬ì—„ì‰¬ì—„ í•˜ì„¸ìš” ğŸ˜
          - elsif index == 0
          - else
            td.two.wide.middle.aligned.center.aligned.clearfix class="#{'positive' if date == Date.today}"
              - date_collections = collections.select{|c| c.test_day == date}
              - date_collections.each do |problem_collection|
                == render 'calendar_item', problem_collection: problem_collection, score: problem_collection.score, start_date: start_date, end_date: end_date
        - else
          - if problem_source_id == 1
            td.two.wide.disabled style="background-color: rgba(0, 0, 50, 0.02);" rowspan="4"
